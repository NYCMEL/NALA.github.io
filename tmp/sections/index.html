<!DOCTYPE html>
<html lang="en">
    <head>
	<meta charset="UTF-8">
	<title>Page Loader</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">

	<style>
	 body {
	     font-family: Arial, sans-serif;
	     background: #f5f5f5;
	     padding: 20px;
	 }

	 .buttons {
	     margin-bottom: 20px;
	 }

	 .buttons button {
	     margin: 4px;
	     padding: 8px 14px;
	     cursor: pointer;
	 }

	 .page {
	     display: none;
	     background: #ffffff;
	     padding: 20px;
	     border-radius: 6px;
	 }

	 .page.active {
	     display: block;
	 }
	</style>
    </head>
    <body>

	<h2>Pages</h2>

	<div class="buttons">
	    <button onclick="openPage(1)">Page 1</button>
	    <button onclick="openPage(2)">Page 2</button>
	    <button onclick="openPage(3)">Page 3</button>
	    <button onclick="openPage(4)">Page 4</button>
	    <button onclick="openPage(5)">Page 5</button>
	    <button onclick="openPage(6)">Page 6</button>
	    <button onclick="openPage(7)">Page 7</button>
	    <button onclick="openPage(8)">Page 8</button>
	    <button onclick="openPage(9)">Page 9</button>
	</div>

	<!-- Pages -->
	<div id="page1" class="page active" data-url="parts/content1.html"></div>
	<div id="page2" class="page" data-url="parts/content2.html"></div>
	<div id="page3" class="page" data-url="parts/content3.html"></div>
	<div id="page4" class="page" data-url="parts/content4.html"></div>
	<div id="page5" class="page" data-url="parts/content5.html"></div>
	<div id="page6" class="page" data-url="parts/content6.html"></div>
	<div id="page7" class="page" data-url="parts/content7.html"></div>
	<div id="page8" class="page" data-url="parts/content8.html"></div>
	<div id="page9" class="page" data-url="parts/content9.html"></div>

	<script>
	 // Load first page on page load
	 document.addEventListener("DOMContentLoaded", () => {
	     openPage(1);
	 });

	 function openPage(number) {
	     // Hide all pages
	     document.querySelectorAll(".page").forEach(page => {
		 page.classList.remove("active");
	     });

	     const page = document.getElementById("page" + number);
	     page.classList.add("active");

	     // Load content only if empty
	     if (page.innerHTML.trim() === "") {
		 const url = page.dataset.url;

		 fetch(url)
		     .then(response => response.text())
		     .then(content => {
			 page.innerHTML = content;
		     })
		     .catch(() => {
			 page.innerHTML = "<p>Failed to load content.</p>";
		     });
		 
		 function loadScriptIfExists(src) {
		     // Prevent duplicate loads
		     if (document.querySelector(`script[src="${src}"]`)) {
			 console.log("Script already loaded:", src);
			 return;
		     }

		     const script = document.createElement("script");
		     script.src = src;
		     script.async = true;

		     script.onload = () => {
			 console.log("Script loaded:", src);
		     };

		     script.onerror = () => {
			 console.log("Script does not exist or failed to load:", src);
		     };

		     document.head.appendChild(script);
		 }

		 loadScriptIfExists("parts/content" + number + ".js")
		 
		 console.log("loaded page:" + number);
	     }
	 }
	</script>

    </body>
</html>
